<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Proposal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
  <link href="styles/main.css" rel="stylesheet">
</head>
<body>

<div><nav th:replace="~{fragments/navigation :: navFragment}"></nav></div>

<section th:if="${message=='SUCCESS'}">
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-4" th:text="${#strings.capitalize(city)}" ></h1>
      <p class="lead">Great choice! Excellent choice! We've handpicked this destination for your vacation,
        where you'll discover an array of booking options and available flights.
        Plus, stay ahead with our real-time weather updates. Dive into your vacation planning with us! </p>
    </div>
  </div>

  <div class="container mb-3">
    <div class="card border-dark ml-5" style="max-width: 12rem;">
      <div class="card-header">Filter</div>
      <div class="card-body text-dark">
        <h7 class="font-weight-bold">Budget:</h7>
        <p class="card-text" th:text="${startingBudget}"></p>
        <h7 class="font-weight-bold">Start date:</h7>
        <p class="card-text" th:text="${startOfVacation}"></p>
        <h7 class="font-weight-bold">End date:</h7>
        <p class="card-text" th:text="${endOfVacation}"></p>
      </div>
      <!--  <div class="card-footer bg-transparent border-dark"><a class="btn btn-secondary"> Edit </a></div>-->
    </div>
  </div>

  <div class="container">
    <div class="row mb-3">
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--<p><span th:text="${city}"></span></p>-->
  <!--<p><span th:text="${budget}"></span></p>-->
  <!--<p><span th:text="${startVaca}"></span></p>-->
  <!--<p><span th:text="${endVaca}"></span></p>-->
  <!-- Weather-->
  <h1>Travel proposal for your vacation to <span th:text="${#strings.capitalize(city)}"></span></h1>
  <div class="weather-info">
    <h2>Current Weather Information</h2>
    <p>Temperature: <span th:text="${temperature} + ' ℃'"></span></p>
    <p>Feels like: <span th:text="${feelsLike} + ' ℃'"></span></p>
    <p>Humidity: <span th:text="${humidity} + ' %'"></span></p>
    <p>Weather Description: <span th:text="${description}"></span></p>
    <p>Wind Speed: <span th:text="${windSpeed} + ' km/h'"></span></p>
  </div>
  <br>

  <!--Jei kazkas neveiktu, atkomentuoti patikrinimui -->
  <!--<p>destination city: <span th:text="${city}"></span></p>
  <p>destination country: <span th:text="${country}"></span></p>
  <p>departure city: <span th:text="${departureCity}"></span></p>
  <p>departure country: <span th:text="${departureCountry}"></span></p>
  <p>start of vacation: <span th:text="${startOfVacation}"></span></p>
  <p>end of vacation: <span th:text="${endOfVacation}"></span></p>-->

  <!--Booking-->
  <div id="booking">
    <h2>Booking.com Search for <span th:text="${#strings.capitalize(city)}"></span></h2>
    <!--type="hidden", nes nebenoriu, kad rodytu inputo laukus (vertes jau ivestos per forma), noriu matyti tik mygtuka-->
    <!--Jei kyla klausimas, kodel nekonstravau tokio linko, kaip su Kiwi.com (zemiau), tai todel, nes su booking.com taip kazkodel neveikia-->
    <form action="https://www.booking.com/searchresults.en-us.html" method="get" target="_blank">
      <input type="hidden" name="ss" th:value="${city}"/>
      <input type="hidden" name="checkin" th:value="${startOfVacation}"/>
      <input type="hidden" name="checkout" th:value="${endOfVacation}"/>
      <input type="hidden" name="nflt" th:value="${budget}"/>
      <input type="hidden" name="group_adults" value="1"/>
      <input type="hidden" name="order" value="review_score_and_price"/>
      <button class="btn btn-primary btn-lg" type="submit">Booking.com for <span th:text="${#strings.capitalize(city)}"></span></button>
    </form>
  </div>
  <br>

  <!--Plane tickets-->
  <div id="plane-tickets">
    <h2>Kiwi.com Search for <span th:text="${#strings.capitalize(city)}"></span></h2>

    <th:block th:if="${country == 'united kingdom'}">
      <form th:action="@{'https://www.kiwi.com/en/search/results/' + ${departureCity} + '-' + ${departureCountry} + '/' + ${city} + '-united-kingdom/' + ${startOfVacation} + '/' + ${endOfVacation}}"
            target="_blank">
        <button class="btn btn-primary btn-lg" type="submit">Kiwi.com for <span th:text="${#strings.capitalize(city)}"></span></button>
      </form>
    </th:block>

    <th:block th:if="${city == 'the hague'}">
      <form th:action="@{'https://www.kiwi.com/en/search/results/' + ${departureCity} + '-' + ${departureCountry} + '/the-hague-' + ${country} + '/' + ${startOfVacation} + '/' + ${endOfVacation}}"
            target="_blank">
        <button class="btn btn-primary btn-lg" type="submit">Kiwi.com for <span th:text="${#strings.capitalize(city)}"></span></button>
      </form>
    </th:block>

    <th:block th:unless="${country == 'united kingdom' || city == 'the hague'}">
      <form th:action="@{'https://www.kiwi.com/en/search/results/' + ${departureCity} + '-' + ${departureCountry} + '/' + ${city} + '-' + ${country} + '/' + ${startOfVacation} + '/' + ${endOfVacation}}"
            target="_blank">
        <button class="btn btn-primary btn-lg" type="submit">Kiwi.com for <span th:text="${#strings.capitalize(city)}"></span></button>
      </form>
    </th:block>
  </div>
  <br>

  <!--Wikipedia-->
  <div id="wikipedia">
    <h2>Wikipedia Search for <span th:text="${#strings.capitalize(city)}"></span></h2>
    <div class="wikipedia">
      <form th:action="@{'https://en.wikipedia.org/wiki/' + ${city}}" target="_blank">
        <button class="btn btn-primary btn-lg" type="submit">Wikipedia for <span th:text="${#strings.capitalize(city)}"></span></button>

      </form>
    </div>
  </div>
</section>

<section th:if="${message=='UNSUCCESSFUL'}"><h1>NOTHING TO SHOW</h1></section>



</body>
</html>